<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>MALIQ Admin</title>
    <!-- FARKLI BÄ°R CMS DENEYELÄ°M -->
    <script src="https://cdn.jsdelivr.net/npm/@staticcms/app@1.0.0/dist/static-cms-app.js"></script>
</head>
<body>
    <div id="cms-root">
        <div style="text-align: center; padding: 50px;">
            <h2>CMS YÃ¼kleniyor...</h2>
        </div>
    </div>

    <script>
    // DOM yÃ¼klendikten sonra Ã§alÄ±ÅŸsÄ±n
    document.addEventListener('DOMContentLoaded', function() {
        // Config'i direkt buraya yaz
        const config = {
            backend: {
                name: "github",
                repo: "candoruk96/maliq.github.io",
                branch: "main"
            },
            media_folder: "static/images",
            public_folder: "/images",
            collections: [{
                name: "recipes",
                label: "Tarifler",
                folder: "content/recipes", 
                create: true,
                slug: "{{slug}}",
                fields: [
                    { name: "title", label: "Yemek AdÄ±", widget: "string" },
                    { name: "emoji", label: "Emoji", widget: "string", required: false },
                    { name: "category", label: "Kategori", widget: "string" },
                    { 
                        label: "Malzemeler",
                        name: "ingredients",
                        widget: "list", 
                        fields: [
                            { name: "name", label: "Ad", widget: "string" },
                            { name: "qty", label: "Miktar", widget: "string" },
                            { name: "unit", label: "Birim", widget: "string" }
                        ]
                    },
                    { name: "instructions", label: "Tarif Metni", widget: "markdown" }
                ]
            }]
        };
        
        // CMS'i baÅŸlat
        setTimeout(function() {
            if (typeof StaticCMS !== 'undefined') {
                console.log('StaticCMS yÃ¼klendi!');
                StaticCMS.init({ config });
                document.getElementById('cms-root').innerHTML = '';
            } else {
                console.error('StaticCMS yÃ¼klenemedi!');
                document.getElementById('cms-root').innerHTML = 
                    '<div style="text-align: center; padding: 50px; color: red;">' +
                    '<h2>ðŸš¨ CMS ENGELÄ°</h2>' +
                    '<p>TÃ¼m CMS scriptleri engellendi.</p>' +
                    '<p><strong>Ã‡Ã¶zÃ¼m:</strong> Netlify CLI veya Desktop kullanÄ±n.</p>' +
                    '<a href="https://www.netlify.com/products/dev/" style="color: blue;">ðŸ‘‰ Netlify CLI Ä°ndir</a>' +
                    '</div>';
            }
        }, 2000);
    });
    </script>
</body>
</html>
